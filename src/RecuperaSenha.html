<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Recupera Senha</title>
</head> 
 
<body>
    <div class="main-senha">
        <form id="recoveryForm">
        <div class="right-senha">
            <div class="card-senha">
                <h1>RECUPERAÇÃO DA SENHA</h1>
                <p class="texto">Para que possa recuperar a sua senha é necessário informar usuário e data de nascimento:</p>
                <div class="textfield">
                    <label for="usuario">Usuário</label>
                    <input type="text" placeholder="Usuário" id="username" required>
                </div>
                <div class="textfield">
                    <label for="usuario">Informe a sua idade</label>
                    <input type="date" placeholder="Idade" id="dob" required>
                </div>
                <div id="passwordMessage" style="display: none;"></div>
                <button class="btn-login" type="submit" value="Recuperar Senha">RECUPERAR</button>
            </div>
        </div>
    </form>
    </div>         

    <script>
        document.getElementById("recoveryForm").addEventListener("submit", function(event) {
          event.preventDefault();
          
          var username = document.getElementById("username").value;
          var dob = document.getElementById("dob").value;})   

          // Verifica se o usuário existe no local storage
        if (localStorage.getItem(username)) {
          var user = JSON.parse(localStorage.getItem(username));
          
          // Verifica se a data de nascimento corresponde ao usuário
          if (dob === user.dob) {
            var passwordMessage = document.getElementById("passwordMessage");
            passwordMessage.textContent = "Sua senha é: " + user.password;
            passwordMessage.style.display = "block";
          } else{}}